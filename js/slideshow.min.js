function initialise(){container=document.getElementById("slides"),getSlides(),numSlides=slideImages.length;for(var e=0;numSlides>e;e++)slideImagesSrc[e]=slideImages[e].currentSrc;for(var e=0;numSlides>e;e++)removeClass(slideContainers[e],"slideContainer-noscript"),removeClass(slideImages[e],"coverContainer");resizeSlide(),numSlides>1&&(positionSlides(),createSelectorBtns(numSlides),selectorBtn[0].src="images/slideshow-button_selected.png",currentSlide=0,update(),draw(),clock()),document.getElementById("loader").style.display="none";var t=document.getElementById("slideshow");listenForEvent(t,"touchstart",handleClick),listenForEvent(t,"touchend",handleRelease),listenForEvent(t,"touchmove",handleSwipe)}function getSlides(){document.getElementsByClassName?(containersNodeList=document.getElementsByClassName("slideContainer"),imagesNodeList=document.getElementsByClassName("slideImage")):(containersNodeList=document.querySelectorAll(".slideContainer"),imagesNodeList=document.querySelectorAll(".slideImage"));for(var e=0;e<containersNodeList.length;e++){var t=containersNodeList[e],i=imagesNodeList[e];slideContainers.push(t),slideImages.push(i)}}function positionSlides(){for(var e=0;e<slideContainers.length;e++){var t=100*e;slideContainers[e].style.left=t+"%",slideCoord[e]=t}}function showSlides(){toggle(document.getElementById("loading"),"hide"),toggle(document.getElementById("slides"),"show")}function createSelectorBtns(e){for(var t="<ul>",i=0;e>i;i++){var s="slideSelector"+i;t+='<li> <input id="'+s+'" type="image" src="images/slideshow-button.png" ontouchstart="goToSlide('+i+')" onclick="goToSlide('+i+')"></li> '}t+="</ul>",document.getElementById("selectorBtns").innerHTML=t;for(var i=0;e>i;i++){var s="slideSelector"+i;selectorBtn[i]=document.getElementById(s)}}function update(){0==paused&&0==previousSlide&&move("left"),0==paused&&1==previousSlide&&move("right"),setTimeout(update,1e3/frameRate)}function draw(){for(var e=0;numSlides>e;e++)slideContainers[e].style.left=slideCoord[e]+"%";setTimeout(draw,1e3/frameRate)}function clock(){setInterval(function(){1==paused&&pauseCount++,7==pauseCount&&1==paused&&(0==previousSlide&&nextSlide("left"),paused=!1)},1e3)}function move(e){if(slideMoving=!0,stopTest=!1,0==stopTest){if("left"==e)for(var t=0;numSlides>t;t++)slideCoord[t]-=speed;else if("right"==e)for(var t=0;numSlides>t;t++)slideCoord[t]+=speed;0==slideCoord[targetSlide]&&0==paused&&(stopTest=!0,paused=!0,slideMoving=!1,currentSlide=targetSlide,previousSlide=!1,updateSelectorBtns())}}function updateSelectorBtns(){for(var e=0;numSlides>e;e++)selectorBtn[e].src=e==targetSlide?"images/slideshow-button_selected.png":"images/slideshow-button.png"}function goToSlide(e){slideMoving||(targetSlide=e,currentSlide>targetSlide?nextSlide("right"):targetSlide>currentSlide&&nextSlide("left"))}function nextSlide(e){"left"==e&&(previousSlide=!1,currentSlide==numSlides-1?(previousSlide=!0,targetSlide=0):targetSlide==currentSlide&&targetSlide++),"right"==e&&(previousSlide=!0,targetSlide==currentSlide&&targetSlide--),slideSpeed(),paused=!1,pauseCount=0}function slideSpeed(){speed=targetSlide!=currentSlide+1&&targetSlide!=currentSlide-1?fastInterval:interval}function resizeCheck(){clearStyle(),resizeSlide(),setTimeout(checkSrc,1e3)}function resizeSlide(){for(var e=0;numSlides>e;e++)slideImages[e].clientWidth<container.clientWidth&&(slideImages[e].className.match(/(?:^|\s)fullWidth(?!\S)/)||addClass(slideImages[e],"fullWidth")),slideImages[e].clientHeight<container.clientHeight&&removeClass(slideImages[e],"fullWidth")}function checkSrc(){for(var e=!1,t=0;numSlides>t;t++)slideImagesSrc[t]!==slideImages[t].currentSrc&&(slideImagesSrc[t]=slideImages[t].currentSrc,e=!0);e&&resizeSlide()}function toggle(e,t){"hide"==t&&(e.style.visibility="hidden"),"show"==t&&(e.style.visibility="visible")}function isVisible(e){return"visible"==e.style.visibility?!0:!1}function isPropertySupported(e){return e in document.documentElement.style}function listenForEvent(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}function handleClick(e){startX=e.touches[0].clientX,startY=e.touches[0].clientY,distanceX=0,distanceY=0}function handleRelease(){}function handleSwipe(e){endX=e.touches[event.touches.length-1].clientX,endY=e.touches[event.touches.length-1].clientY,distanceX=endX-startX,distanceY=endY-startY,distanceX>=threshold&&100>=distanceY&&currentSlide>0?nextSlide("right"):negThreshold>=distanceX&&100>=distanceY&&numSlides-1>currentSlide&&nextSlide("left")}var container,interval=10,fastInterval=25,speed=interval,frameRate=24,isClicked=!1,lastY=-1,lastX=-1,slideContainers=[],slideImages=[],slideImagesSrc=[],slideCoord=[],selectorBtn=[],numSlides,currentSlide=0,targetSlide=0,pauseCount=0,paused=!0,stopTest=!1,previousSlide=!1,slideMoving=!1;window.addEventListener("load",initialise),window.addEventListener("resize",resizeCheck);var startX,endX,startY,endY,distanceX,distanceY,threshold=150,negThreshold=-150;